<div class="works mb-8 md:mb-12">
  <h2
    class="font-bold text-xl pb-3 mb-3 border-b"
    data-sal="slide-up"
    data-sal-duration="{{site.data.settings.data-sal-duration}}"
  >
    <span class="text-blue-500">Skills</span>
  </h2>
  <div class="grid grid-cols-3 md:grid-cols-3 gap-4 py-3 items-center">
    {% for item in site.data.skills %}
    <div class="svg-item" data-sal="slide-up" data-sal-duration="{{site.data.settings.data-sal-duration}}">
      <svg width="100%" height="100%" viewBox="0 0 40 40" class="donut">
        <circle
          class="donut-hole"
          cx="20"
          cy="20"
          r="15.91549430918954"
          fill="#fff"
        ></circle>
        <circle
          class="donut-ring"
          cx="20"
          cy="20"
          r="15.91549430918954"
          fill="transparent"
          stroke-width="3.5"
        ></circle>
        <circle
          class="{{item.color}} stroke-current donut-segment donut-segment-{{forloop.index}}"
          cx="20"
          cy="20"
          r="15.91549430918954"
          fill="transparent"
          stroke-width="3.5"
          stroke-dasharray="{{item.skillLevel}} {{100 | minus: item.skillLevel}}"
          stroke-dashoffset="25"
        ></circle>
        <g class="fill-current">
          <text y="45%" transform="translate(0, 2)">
            <tspan
              x="50%"
              text-anchor="middle"
              class="{{item.color}} donut-percent"
            >
              {{item.skillLevel}}%
            </tspan>
          </text>
          <text y="62.5%" transform="translate(0, 2)">
            <tspan
              x="50%"
              text-anchor="middle"
              class="text-gray-800 font-light donut-data"
              style="font-size: 0.275rem;"
            >
              {{item.name}}
            </tspan>
          </text>
        </g>
      </svg>
    </div>

    <style>
      .donut-segment-{{forloop.index}} {
        animation: donut{{forloop.index}} 4s;
      }

      @keyframes donutfadelong {
        0% {
          opacity: 0;
        }
        100% {
          opacity: 1;
        }
      }

      @keyframes donut{{forloop.index}} {
        0% {
          stroke-dasharray: 0, 100;
        }
        100% {
          stroke-dasharray: {{item.skillLevel}},  {{100 | minus: item.skillLevel}};
        }
      }
    </style>

    {% endfor %}

    <style>
      .svg-item {
        animation: donutfade 1s;
      }

      .donut-percent {
        font-size: 0.5em;
        transform: translateY(0.5em);
        font-weight: bold;
      }

      .donut-data {
        font-size: 0.2rem;
        transform: translateY(0.5em);
        text-align: center;
        animation: donutfadelong 1s;
      }

      .donut-percent {
        animation: donutfadelong 1s;
      }

      @keyframes donutfade {
        0% {
          opacity: 0.2;
        }
        100% {
          opacity: 1;
        }
      }

      .donut-ring {
        stroke: #ebebeb;
      }

      .donut-segment {
        transform-origin: center;
      }
    </style>
  </div>
</div>
